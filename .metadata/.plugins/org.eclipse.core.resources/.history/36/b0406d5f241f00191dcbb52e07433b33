package application;

import org.omg.CORBA.Environment;

import javafx.application.Application;
import javafx.beans.property.ObjectProperty;
import javafx.collections.FXCollections;
import javafx.event.Event;
import javafx.event.EventHandler;
import javafx.geometry.HPos;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Node;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.ButtonBar.ButtonData;
import javafx.scene.control.ButtonType;
import javafx.scene.control.ComboBox;
import javafx.scene.control.Dialog;
import javafx.scene.control.Label;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.input.KeyEvent;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;
import javafx.stage.Modality;
import javafx.stage.Stage;
import javafx.util.Pair;

public class Main extends Application {

	private Label labelTitle, labelMesage, labelIcon, labelButtons;
	private static TextField textTitle;
	private TextArea textMessage;
	private Button showWindow;
	private static Button btnYes, btnNo, btnCancel, btnAbort, btnRetry, btnIgnore;
	private static ComboBox<MessageBoxIcon> comboBoxIcon;
	private static ComboBox<MessageBoxButton> comboBoxButton;

	@Override
	public void start(Stage stage) {

		// panel vbox
		VBox root = new VBox();
		root.setPadding(new Insets(10));
		root.setSpacing(50);
		root.setAlignment(Pos.CENTER);

		// panel hbox1
		HBox hbox1 = new HBox();
		hbox1.setPadding(new Insets(10));
		hbox1.setSpacing(20);
		hbox1.setAlignment(Pos.CENTER);
		labelTitle = new Label("Tytu³ okna");
		textTitle = new TextField("Tytu³ okna");
		textTitle.setMinWidth(120);
		hbox1.getChildren().addAll(labelTitle, textTitle);

		// panel hbox2
		HBox hbox2 = new HBox();
		hbox2.setPadding(new Insets(10));
		hbox2.setSpacing(20);
		hbox2.setAlignment(Pos.CENTER);
		labelIcon = new Label("Ikona");
		comboBoxIcon = new ComboBox<>();
		comboBoxIcon.setItems(FXCollections.observableArrayList(MessageBoxIcon.values()));
		hbox2.getChildren().addAll(labelIcon, comboBoxIcon);

		// panel hbox3
		HBox hbox3 = new HBox();
		hbox3.setPadding(new Insets(10));
		hbox3.setSpacing(20);
		hbox3.setAlignment(Pos.CENTER);
		labelMesage = new Label("Treœæ wiadomoœci");
		textMessage = new TextArea("Treœæ wiadomoœci do okienka");
		hbox3.getChildren().addAll(labelMesage, textMessage);

		// panel hbox4
		HBox hbox4 = new HBox();
		hbox4.setPadding(new Insets(10));
		hbox4.setSpacing(20);
		hbox4.setAlignment(Pos.CENTER);
		labelButtons = new Label("Predefiniowany zestaw przycisków");
		comboBoxButton = new ComboBox<>();
		comboBoxButton.setItems(FXCollections.observableArrayList(MessageBoxButton.values()));
		hbox4.getChildren().addAll(labelButtons, comboBoxButton);

		// panel hbox5
		HBox hbox5 = new HBox();
		hbox5.setPadding(new Insets(10));
		hbox5.setSpacing(20);
		hbox5.setAlignment(Pos.CENTER);
		showWindow = new Button("Poka¿ okno");
		hbox5.getChildren().addAll(showWindow);
		showWindow.setOnAction(e -> show());

		root.getChildren().addAll(hbox1, hbox2, hbox3, hbox4, hbox5);

		Scene scene = new Scene(root, 640, 480);
		stage.setTitle("Praca zaliczeniowa INU");
		stage.setScene(scene);
		stage.centerOnScreen();

		stage.show();

		MessageBoxButton.AbortRetryIgnore.getCount();
	}

	public static void main(String args[]) {
		launch(args);
	}

	public static void show() {
		//btnYes.setDefaultButton(true);
		//btnNo.setCancelButton(true);
		Stage newStage = new Stage();
		newStage.setWidth(300);
		newStage.setHeight(200);
		String title = textTitle.getText();
		newStage.setTitle(title);
		newStage.setAlwaysOnTop(true);
		newStage.centerOnScreen();
		newStage.setResizable(false);
		newStage.initModality(Modality.APPLICATION_MODAL);
		newStage.addEventFilter(KeyEvent.KEY_RELEASED, new EventHandler<KeyEvent>() {
			@Override
			public void handle(KeyEvent event) {
				switch (event.getCode()) {
				case ENTER:
					if (btnYes != null)
						btnYes.fire();
					break;
				case ESCAPE:
					if (btnNo != null)
						btnNo.fire();
					break;
				default:
					// do nothing
				}
			}
		});
		GridPane grid = new GridPane();
		grid.setHgap(10);
		grid.setVgap(10);
		grid.setPadding(new Insets(20, 30, 20, 30));


	//	MessageBoxButton mbb = comboBoxButton.getSelectionModel().getSelectedItem();
		//setButtons(mbb);
		//GridPane.setHalignment(btnAbort, HPos.RIGHT);
		//grid.add(btnAbort,0,2);

	   Scene scene = new Scene(grid, 400, 400);
	   newStage.setScene(scene);
       newStage.showAndWait();
	}



	private static void setButtons(MessageBoxButton buttonSet) {
		if (buttonSet == null)
			buttonSet = MessageBoxButton.OK;

		switch (buttonSet) {

		case AbortRetryIgnore:
			btnAbort = new Button("Abort");
			btnAbort.setPrefWidth(80.0);
			btnAbort.setDefaultButton(true);
			btnAbort.requestFocus();
			btnRetry = new Button("Retry");
			btnRetry.setPrefWidth(80.0);
			btnIgnore = new Button("Ignore");
			btnIgnore.setPrefWidth(80.0);
			grid.add(btnAbort, btnRetry, btnIgnore, 0, 0);
			break;
		case OK:
		default:
			btnYes = new Button("Ok");
			btnYes.setPrefWidth(70.0);
			btnYes.setDefaultButton(true);
			btnYes.requestFocus();
		case OKCancel:
			btnYes = new Button("Ok");
			btnYes.setPrefWidth(70.0);
			btnYes.setDefaultButton(true);
			btnYes.requestFocus();
			btnCancel = new Button("Cancel");
			btnCancel.setPrefWidth(70.0);
			break;
		case RetryCancel:
			btnRetry = new Button("Ok");
			btnRetry.setPrefWidth(70.0);
			btnRetry.setDefaultButton(true);
			btnRetry.requestFocus();
			btnCancel = new Button("Cancel");
			btnCancel.setPrefWidth(70.0);
			break;
		case YesNo:
			btnYes = new Button("Yes");
			btnYes.setPrefWidth(70.0);
			btnYes.setDefaultButton(true);
			btnYes.requestFocus();
			btnNo = new Button("No");
			btnNo.setPrefWidth(70.0);
			break;
		case YesNoCancel:
			btnYes = new Button("Yes");
			btnYes.setPrefWidth(70.0);
			btnYes.setDefaultButton(true);
			btnYes.requestFocus();
			btnNo = new Button("No");
			btnNo.setPrefWidth(70.0);
			btnCancel = new Button("Cancel");
			btnCancel.setPrefWidth(70.0);
			break;

		}
	}

}